"use strict";(self.webpackChunkblog_with_firebase=self.webpackChunkblog_with_firebase||[]).push([[387],{4813:function(e,t,n){var r=n(184);t.Z=function(e){var t=e.value,n=e.setValue,a=e.rows,u=e.name,i=e.id,s=e.required,c=e.placeholder,o=e.label;return(0,r.jsxs)("div",{className:"space-y-3 w-full",children:[o&&(0,r.jsx)("label",{htmlFor:i,className:"block text-sm font-medium leading-6 text-white",children:o}),(0,r.jsx)("textarea",{value:t,onChange:function(e){return n(e.target.value)},rows:a,name:u,id:i,required:s,className:"block w-full rounded-sm border-0 bg-white/5 px-3.5 py-2 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-sky-500 sm:text-sm sm:leading-6",placeholder:c})]})}},1363:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(4165),a=n(1413),u=n(5861),i=n(2481),s=n(673);function c(e){return o.apply(this,arguments)}function o(){return(o=(0,u.Z)((0,r.Z)().mark((function e(t){var n,u,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,i.JU)(s.db,"posts",t),e.next=3,(0,i.QT)(n);case 3:if(!(u=e.sent).exists()){e.next=9;break}return c=u.data(),e.abrupt("return",(0,a.Z)((0,a.Z)({},c),{},{id:u.id}));case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1407:function(e,t,n){n.d(t,{w:function(){return d},y:function(){return o}});var r=n(4165),a=n(5861),u=n(673),i=n(2481),s=n(8255),c=n(276);function o(e,t){return l.apply(this,arguments)}function l(){return(l=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a,c,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.I8.currentUser,e.next=3,(0,s.ck)(a,t);case 3:return c=(0,i.JU)(u.u8,a.uid),(o=(0,i.pl)(c,t,{merge:!0}))&&n({type:"UPDATE_PROFILE",payload:t}),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){return f.apply(this,arguments)}function f(){return(f=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,c.iH)(u.tO,"avatar/"+n.uid+".jpg"),e.next=3,(0,c.KV)(a,t);case 3:return e.next=5,(0,c.Jt)(a);case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},8387:function(e,t,n){n.r(t),n.d(t,{default:function(){return ge}});var r=n(3433),a=n(4165),u=n(5861),i=n(9439),s=n(2791),c=n(7762),o=n(4925),l=n(4942),d=n(1413),f=n(5612),p=n(7003),v=n(9904),x=n(7369),m=n(981),b=n(4705),h=n(4159),g=n(4381),w=n(2806),Z=n(5518);function y(e){var t=e.onFocus,n=(0,s.useState)(!0),r=(0,i.Z)(n,2),a=r[0],u=r[1];return a?s.createElement(Z._,{as:"button",type:"button",features:Z.A.Focusable,onFocus:function(e){e.preventDefault();var n,r=50;n=requestAnimationFrame((function e(){if(!(r--<=0))return t()?(u(!1),void cancelAnimationFrame(n)):void(n=requestAnimationFrame(e));n&&cancelAnimationFrame(n)}))}}):null}var T=n(3654),E=n(8106),I=n(5718),P=s.createContext(null);function j(e){var t=e.children,n=s.useRef({groups:new Map,get:function(e,t){var n,r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));var a=null!=(n=r.get(t))?n:0;return r.set(t,a+1),[Array.from(r.keys()).indexOf(t),function(){var e=r.get(t);e>1?r.set(t,e-1):r.delete(t)}]}});return s.createElement(P.Provider,{value:n},t)}function A(e){var t=s.useContext(P);if(!t)throw new Error("You must wrap your component in a <StableCollection>");var n=function(){var e,t,n,r=null!=(n=null==(t=null==(e=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)?void 0:e.ReactCurrentOwner)?void 0:t.current)?n:null;if(!r)return Symbol();for(var a=[],u=r;u;)a.push(u.index),u=u.return;return"$."+a.join(".")}(),r=t.current.get(e,n),a=(0,i.Z)(r,2),u=a[0],c=a[1];return s.useEffect((function(){return c}),[]),u}var R,k,O,z,N=["defaultIndex","vertical","manual","onChange","selectedIndex"],C=["id"],S=["id","tabIndex"],M=((z=M||{})[z.Forwards=0]="Forwards",z[z.Backwards=1]="Backwards",z),_=((O=_||{})[O.Less=-1]="Less",O[O.Equal=0]="Equal",O[O.Greater=1]="Greater",O),L=((k=L||{})[k.SetSelectedIndex=0]="SetSelectedIndex",k[k.RegisterTab=1]="RegisterTab",k[k.UnregisterTab=2]="UnregisterTab",k[k.RegisterPanel=3]="RegisterPanel",k[k.UnregisterPanel=4]="UnregisterPanel",k),D=(R={},(0,l.Z)(R,0,(function(e,t){var n,a=(0,m.z2)(e.tabs,(function(e){return e.current})),u=(0,m.z2)(e.panels,(function(e){return e.current})),i=a.filter((function(e){var t;return!(null!=(t=e.current)&&t.hasAttribute("disabled"))})),s=(0,d.Z)((0,d.Z)({},e),{},{tabs:a,panels:u});if(t.index<0||t.index>a.length-1){var c,o,f=(0,v.E)(Math.sign(t.index-e.selectedIndex),(c={},(0,l.Z)(c,-1,(function(){return 1})),(0,l.Z)(c,0,(function(){var e;return(0,v.E)(Math.sign(t.index),(e={},(0,l.Z)(e,-1,(function(){return 0})),(0,l.Z)(e,0,(function(){return 0})),(0,l.Z)(e,1,(function(){return 1})),e))})),(0,l.Z)(c,1,(function(){return 0})),c));return 0===i.length?s:(0,d.Z)((0,d.Z)({},s),{},{selectedIndex:(0,v.E)(f,(o={},(0,l.Z)(o,0,(function(){return a.indexOf(i[0])})),(0,l.Z)(o,1,(function(){return a.indexOf(i[i.length-1])})),o))})}var p=a.slice(0,t.index),x=[].concat((0,r.Z)(a.slice(t.index)),(0,r.Z)(p)).find((function(e){return i.includes(e)}));if(!x)return s;var b=null!=(n=a.indexOf(x))?n:e.selectedIndex;return-1===b&&(b=e.selectedIndex),(0,d.Z)((0,d.Z)({},s),{},{selectedIndex:b})})),(0,l.Z)(R,1,(function(e,t){var n;if(e.tabs.includes(t.tab))return e;var a=e.tabs[e.selectedIndex],u=(0,m.z2)([].concat((0,r.Z)(e.tabs),[t.tab]),(function(e){return e.current})),i=null!=(n=u.indexOf(a))?n:e.selectedIndex;return-1===i&&(i=e.selectedIndex),(0,d.Z)((0,d.Z)({},e),{},{tabs:u,selectedIndex:i})})),(0,l.Z)(R,2,(function(e,t){return(0,d.Z)((0,d.Z)({},e),{},{tabs:e.tabs.filter((function(e){return e!==t.tab}))})})),(0,l.Z)(R,3,(function(e,t){return e.panels.includes(t.panel)?e:(0,d.Z)((0,d.Z)({},e),{},{panels:(0,m.z2)([].concat((0,r.Z)(e.panels),[t.panel]),(function(e){return e.current}))})})),(0,l.Z)(R,4,(function(e,t){return(0,d.Z)((0,d.Z)({},e),{},{panels:e.panels.filter((function(e){return e!==t.panel}))})})),R),F=(0,s.createContext)(null);function U(e){var t=(0,s.useContext)(F);if(null===t){var n=new Error("<".concat(e," /> is missing a parent <Tab.Group /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(n,U),n}return t}F.displayName="TabsDataContext";var V=(0,s.createContext)(null);function B(e){var t=(0,s.useContext)(V);if(null===t){var n=new Error("<".concat(e," /> is missing a parent <Tab.Group /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(n,B),n}return t}function q(e,t){return(0,v.E)(t.type,D,e,t)}V.displayName="TabsActionsContext";var Y=s.Fragment;var W=f.AN.RenderStrategy|f.AN.Static;var G=(0,f.yV)((function(e,t){var n,r,a=(0,p.M)(),u=e.id,i=void 0===u?"headlessui-tabs-tab-".concat(a):u,c=(0,o.Z)(e,C),l=U("Tab"),d=l.orientation,w=l.activation,Z=l.selectedIndex,y=l.tabs,P=l.panels,j=B("Tab"),R=U("Tab"),k=(0,s.useRef)(null),O=(0,h.T)(k,t);(0,b.e)((function(){return j.registerTab(k)}),[j,k]);var z=A("tabs"),N=y.indexOf(k);-1===N&&(N=z);var S=N===Z,M=(0,T.z)((function(e){var t,n=e();if(n===m.fE.Success&&"auto"===w){var r=null==(t=(0,I.r)(k))?void 0:t.activeElement,a=R.tabs.findIndex((function(e){return e.current===r}));-1!==a&&j.change(a)}return n})),_=(0,T.z)((function(e){var t=y.map((function(e){return e.current})).filter(Boolean);if(e.key===x.R.Space||e.key===x.R.Enter)return e.preventDefault(),e.stopPropagation(),void j.change(N);switch(e.key){case x.R.Home:case x.R.PageUp:return e.preventDefault(),e.stopPropagation(),M((function(){return(0,m.jA)(t,m.TO.First)}));case x.R.End:case x.R.PageDown:return e.preventDefault(),e.stopPropagation(),M((function(){return(0,m.jA)(t,m.TO.Last)}))}return M((function(){return(0,v.E)(d,{vertical:function(){return e.key===x.R.ArrowUp?(0,m.jA)(t,m.TO.Previous|m.TO.WrapAround):e.key===x.R.ArrowDown?(0,m.jA)(t,m.TO.Next|m.TO.WrapAround):m.fE.Error},horizontal:function(){return e.key===x.R.ArrowLeft?(0,m.jA)(t,m.TO.Previous|m.TO.WrapAround):e.key===x.R.ArrowRight?(0,m.jA)(t,m.TO.Next|m.TO.WrapAround):m.fE.Error}})}))===m.fE.Success?e.preventDefault():void 0})),L=(0,s.useRef)(!1),D=(0,T.z)((function(){var e;L.current||(L.current=!0,null==(e=k.current)||e.focus(),j.change(N),(0,E.Y)((function(){L.current=!1})))})),F=(0,T.z)((function(e){e.preventDefault()})),V=(0,s.useMemo)((function(){return{selected:S}}),[S]),q={ref:O,onKeyDown:_,onMouseDown:F,onClick:D,id:i,role:"tab",type:(0,g.f)(e,k),"aria-controls":null==(r=null==(n=P[N])?void 0:n.current)?void 0:r.id,"aria-selected":S,tabIndex:S?0:-1};return(0,f.sY)({ourProps:q,theirProps:c,slot:V,defaultTag:"button",name:"Tabs.Tab"})})),J=(0,f.yV)((function(e,t){var n=e.defaultIndex,r=void 0===n?0:n,a=e.vertical,u=void 0!==a&&a,l=e.manual,p=void 0!==l&&l,v=e.onChange,x=e.selectedIndex,g=void 0===x?null:x,Z=(0,o.Z)(e,N),E=u?"vertical":"horizontal",I=p?"manual":"auto",P=null!==g,A=(0,h.T)(t),R=(0,s.useReducer)(q,{selectedIndex:null!=g?g:r,tabs:[],panels:[]}),k=(0,i.Z)(R,2),O=k[0],z=k[1],C=(0,s.useMemo)((function(){return{selectedIndex:O.selectedIndex}}),[O.selectedIndex]),S=(0,w.E)(v||function(){}),M=(0,w.E)(O.tabs),_=(0,s.useMemo)((function(){return(0,d.Z)({orientation:E,activation:I},O)}),[E,I,O]),L=(0,T.z)((function(e){return z({type:1,tab:e}),function(){return z({type:2,tab:e})}})),D=(0,T.z)((function(e){return z({type:3,panel:e}),function(){return z({type:4,panel:e})}})),U=(0,T.z)((function(e){B.current!==e&&S.current(e),P||z({type:0,index:e})})),B=(0,w.E)(P?e.selectedIndex:O.selectedIndex),W=(0,s.useMemo)((function(){return{registerTab:L,registerPanel:D,change:U}}),[]);(0,b.e)((function(){z({type:0,index:null!=g?g:r})}),[g]),(0,b.e)((function(){if(!(void 0===B.current||O.tabs.length<=0)){var e=(0,m.z2)(O.tabs,(function(e){return e.current}));e.some((function(e,t){return O.tabs[t]!==e}))&&U(e.indexOf(O.tabs[B.current]))}}));var G={ref:A};return s.createElement(j,null,s.createElement(V.Provider,{value:W},s.createElement(F.Provider,{value:_},_.tabs.length<=0&&s.createElement(y,{onFocus:function(){var e,t,n,r=(0,c.Z)(M.current);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(0===(null==(e=a.current)?void 0:e.tabIndex))return null==(t=a.current)||t.focus(),!0}}catch(u){r.e(u)}finally{r.f()}return!1}}),(0,f.sY)({ourProps:G,theirProps:Z,slot:C,defaultTag:Y,name:"Tabs"}))))})),H=(0,f.yV)((function(e,t){var n=U("Tab.List"),r=n.orientation,a=n.selectedIndex,u=(0,h.T)(t);return(0,f.sY)({ourProps:{ref:u,role:"tablist","aria-orientation":r},theirProps:e,slot:{selectedIndex:a},defaultTag:"div",name:"Tabs.List"})})),K=(0,f.yV)((function(e,t){var n=U("Tab.Panels").selectedIndex,r=(0,h.T)(t),a=(0,s.useMemo)((function(){return{selectedIndex:n}}),[n]);return(0,f.sY)({ourProps:{ref:r},theirProps:e,slot:a,defaultTag:"div",name:"Tabs.Panels"})})),Q=(0,f.yV)((function(e,t){var n,r,a,u,i=(0,p.M)(),c=e.id,l=void 0===c?"headlessui-tabs-panel-".concat(i):c,v=e.tabIndex,x=void 0===v?0:v,m=(0,o.Z)(e,S),g=U("Tab.Panel"),w=g.selectedIndex,y=g.tabs,T=g.panels,E=B("Tab.Panel"),I=(0,s.useRef)(null),P=(0,h.T)(I,t);(0,b.e)((function(){return E.registerPanel(I)}),[E,I]);var j=A("panels"),R=T.indexOf(I);-1===R&&(R=j);var k=R===w,O=(0,s.useMemo)((function(){return{selected:k}}),[k]),z={ref:P,id:l,role:"tabpanel","aria-labelledby":null==(r=null==(n=y[R])?void 0:n.current)?void 0:r.id,tabIndex:k?x:-1};return k||null!=(a=m.unmount)&&!a||null!=(u=m.static)&&u?(0,f.sY)({ourProps:z,theirProps:m,slot:O,defaultTag:"div",features:W,visible:k,name:"Tabs.Panel"}):s.createElement(Z._,(0,d.Z)({as:"span"},z))})),$=Object.assign(G,{Group:J,List:H,Panels:K,Panel:Q}),X=["title","titleId"];var ee=s.forwardRef((function(e,t){var n=e.title,r=e.titleId,a=(0,o.Z)(e,X);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":r},a),n?s.createElement("title",{id:r},n):null,s.createElement("path",{d:"M12.232 4.232a2.5 2.5 0 013.536 3.536l-1.225 1.224a.75.75 0 001.061 1.06l1.224-1.224a4 4 0 00-5.656-5.656l-3 3a4 4 0 00.225 5.865.75.75 0 00.977-1.138 2.5 2.5 0 01-.142-3.667l3-3z"}),s.createElement("path",{d:"M11.603 7.963a.75.75 0 00-.977 1.138 2.5 2.5 0 01.142 3.667l-3 3a2.5 2.5 0 01-3.536-3.536l1.225-1.224a.75.75 0 00-1.061-1.06l-1.224 1.224a4 4 0 105.656 5.656l3-3a4 4 0 00-.225-5.865z"}))})),te=["title","titleId"];var ne=s.forwardRef((function(e,t){var n=e.title,r=e.titleId,a=(0,o.Z)(e,te);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":r},a),n?s.createElement("title",{id:r},n):null,s.createElement("path",{fillRule:"evenodd",d:"M6.28 5.22a.75.75 0 010 1.06L2.56 10l3.72 3.72a.75.75 0 01-1.06 1.06L.97 10.53a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0zm7.44 0a.75.75 0 011.06 0l4.25 4.25a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06-1.06L17.44 10l-3.72-3.72a.75.75 0 010-1.06zM11.377 2.011a.75.75 0 01.612.867l-2.5 14.5a.75.75 0 01-1.478-.255l2.5-14.5a.75.75 0 01.866-.612z",clipRule:"evenodd"}))})),re=["title","titleId"];var ae=s.forwardRef((function(e,t){var n=e.title,r=e.titleId,a=(0,o.Z)(e,re);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":r},a),n?s.createElement("title",{id:r},n):null,s.createElement("path",{fillRule:"evenodd",d:"M5.404 14.596A6.5 6.5 0 1116.5 10a1.25 1.25 0 01-2.5 0 4 4 0 10-.571 2.06A2.75 2.75 0 0018 10a8 8 0 10-2.343 5.657.75.75 0 00-1.06-1.06 6.5 6.5 0 01-9.193 0zM10 7.5a2.5 2.5 0 100 5 2.5 2.5 0 000-5z",clipRule:"evenodd"}))})),ue=n(2481),ie=n(673),se=n(7689),ce=n(3581),oe=n(6207),le=n(1407),de=n(8698),fe=n(4813),pe=n(7293),ve=n(4598),xe=n(8381),me=n(3402),be=n(1363),he=n(184);var ge=function(){var e=(0,s.useState)(""),t=(0,i.Z)(e,2),n=t[0],c=t[1],o=(0,s.useState)(""),l=(0,i.Z)(o,2),d=l[0],f=l[1],p=(0,s.useContext)(ce.V),v=p.currentUser,x=p.dispatch,m=(0,se.s0)(),b=(0,se.UO)().postId;(0,s.useEffect)((function(){var e=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,be.Z)(b);case 2:t=e.sent,c(t.title),f(t.description);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();b&&e()}),[b,v]);var h=["Write","Preview"],g=[{name:"Insert link",icon:ee},{name:"Insert code",icon:ne},{name:"Mention someone",icon:ae}],w=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(){var t,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,ue.JU)(ie.T2,b),(r=(0,ue.pl)(t,{title:n,description:d},{merge:!0}))&&me.Am.success("Post updated"),r&&m("/posts");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=(0,u.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ue.ET)(ie.T2,{title:n,description:d,createdAt:(0,ue.Bt)(),authorID:v.uid});case 2:(t=e.sent)&&me.Am.success("Post added"),t&&m("/posts"),(0,le.y)({posts:[].concat((0,r.Z)(v.posts),[t.id])},x);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,he.jsxs)(oe.Z,{children:[(0,he.jsx)(ve.Z,{}),(0,he.jsxs)("div",{className:"pt-12 w-3/4 mx-auto",children:[(0,he.jsx)("h1",{className:"text-center text-2xl font-bold leading-9 tracking-tight text-zinc-100",children:b?"":"Create your article"}),(0,he.jsxs)(xe.Z,{buttonName:"Publish",buttonWidth:"",submit:function(e){e.preventDefault(),b?w():Z()},children:[(0,he.jsx)(pe.Z,{props:{label:!1,type:"text",value:n,setValue:c,placeholder:"Title",required:!0,name:"title",id:"title"}}),(0,he.jsx)("div",{className:"space-y-3",children:(0,he.jsx)($.Group,{children:function(e){var t=e.selectedIndex;return(0,he.jsxs)(he.Fragment,{children:[(0,he.jsxs)($.List,{className:"flex items-center",children:[h.map((function(e){return(0,he.jsx)($,{className:function(e){var t=e.selected;return(0,de.A)(t?"bg-zinc-800  hover:bg-zinc-700":" hover:bg-zinc-700 ","rounded-sm border border-transparent px-3 py-1.5 text-sm font-medium")},children:e},e)})),0===t?(0,he.jsx)("div",{className:"ml-auto flex items-center space-x-5",children:g.map((function(e){return(0,he.jsx)("div",{className:"flex items-center",children:(0,he.jsxs)("button",{type:"button",className:"-m-2.5 inline-flex h-10 w-10 items-center justify-center rounded-full text-zinc-400 hover:text-zinc-500",children:[(0,he.jsx)("span",{className:"sr-only",children:e.name}),(0,he.jsx)(e.icon,{className:"h-5 w-5","aria-hidden":"true"})]})},e.name)}))}):null]}),(0,he.jsxs)($.Panels,{children:[(0,he.jsx)($.Panel,{children:(0,he.jsx)("div",{children:(0,he.jsx)(fe.Z,{value:d,setValue:f,rows:"12",name:"post",id:"post",required:!0,placeholder:"Add your post..."})})}),(0,he.jsx)($.Panel,{children:(0,he.jsx)("div",{className:"border-b",children:(0,he.jsx)("div",{className:"mx-px mt-px px-3 pb-12 pt-2 text-sm leading-5 0",children:"Preview content will render here."})})})]})]})}})})]})]})]})}},4381:function(e,t,n){n.d(t,{f:function(){return s}});var r=n(9439),a=n(2791),u=n(4705);function i(e){var t;if(e.type)return e.type;var n=null!=(t=e.as)?t:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}function s(e,t){var n=(0,a.useState)((function(){return i(e)})),s=(0,r.Z)(n,2),c=s[0],o=s[1];return(0,u.e)((function(){o(i(e))}),[e.type,e.as]),(0,u.e)((function(){c||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&o("button")}),[c,t]),c}}}]);
//# sourceMappingURL=387.045ab388.chunk.js.map