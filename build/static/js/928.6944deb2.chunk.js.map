{"version":3,"file":"static/js/928.6944deb2.chunk.js","mappings":"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","sources":["components/atoms/Time.jsx","components/form/TextArea.jsx","components/post/EditPostButton.jsx","components/user/UserInline.jsx","helpers/fetchPost.js","components/comment/Comment.jsx","components/comment/CommentForm.jsx","components/comment/NoComments.jsx","components/comment/Comments.jsx","pages/Post.jsx"],"sourcesContent":["export function Time ({time}) {\n    return (\n        <div className=\"flex gap-3 items-center text-sm text-zinc-400 \">\n        <time>\n          {time?.toDate().toLocaleDateString(\"en-US\", {\n            weekday: \"long\",\n            year: \"numeric\",\n            month: \"long\",\n            day: \"numeric\",\n          })}\n        </time>\n      </div>\n    )\n}","function TextArea({\n  value,\n  setValue,\n  rows,\n  name,\n  id,\n  required,\n  placeholder,\n  label,\n}) {\n  return (\n    <div className=\"space-y-3 w-full\">\n      {label && (\n        <label\n          htmlFor={id}\n          className=\"block text-sm font-medium leading-6 text-white\"\n        >\n          {label}\n        </label>\n      )}\n      <textarea\n        value={value}\n        onChange={(e) => setValue(e.target.value)}\n        rows={rows}\n        name={name}\n        id={id}\n        required={required}\n        className=\"block w-full rounded-sm border-0 bg-white/5 px-3.5 py-2 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-sky-500 sm:text-sm sm:leading-6\"\n        placeholder={placeholder}\n      />\n    </div>\n  );\n}\n\nexport default TextArea;\n","import { NavLink } from \"react-router-dom\";\n\nfunction EditPostButton({ postId }) {\n  return (\n    <NavLink\n      to={`/editpost/${postId}`}\n      className=\"z-20 hover:text-sky-400 text-zinc-300 text-sm font-semibold  px-2 py-1 shadow-xl  bg-zinc-800 rounded-sm\"\n    >\n      Edit Post\n    </NavLink>\n  );\n}\n\nexport default EditPostButton;\n","import { NavLink } from \"react-router-dom\";\n\nexport function UserInline({ user }) {\n  return (\n    <NavLink\n      to={`/profile/${user?.uid}`}\n      className=\"flex items-center gap-x-4 hover:underline\"\n    >\n      <img\n        src={\n          user?.photoURL ||\n          \"https://media.tenor.com/O7iUTKsWo4gAAAAC/space-cat.gif\"\n        }\n        alt=\"\"\n        className=\"h-10 w-10 rounded-full bg-zinc-400 object-cover\"\n      />\n\n      <p className=\"font-semibold text-sm leading-6\">{user?.displayName}</p>\n    </NavLink>\n  );\n}\n","import { doc, getDoc } from \"firebase/firestore\";\nimport { db } from \"../firebase\";\n\nexport default async function fetchPost(postId) {\n  const docRef = doc(db, \"posts\", postId);\n  const docSnap = await getDoc(docRef);\n\n  if (docSnap.exists()) {\n    const post = docSnap.data();\n    return { ...post, id: docSnap.id };\n  } else {\n    return null;\n  }\n}\n","import { deleteDoc, doc } from \"firebase/firestore\";\nimport { db } from \"../../firebase\";\nimport { useContext, useEffect, useState, useRef } from \"react\";\nimport { AuthContext } from \"../../store/AuthContext\";\nimport { fetchUser } from \"../../helpers/fetchUser\";\nimport { classNames } from \"../../helpers/classNames\";\n\nexport default function Commment({ comment, newComment, setNewComment }) {\n  const { currentUser } = useContext(AuthContext);\n  const [author, setAuthor] = useState(null);\n  const [isMy, setIsMy] = useState(false);\n  const [isDeleting, setIsDeleting] = useState(false);\n\n  const newCommentRef = useRef(null);\n\n  useEffect(() => {\n    fetchUser(comment.authorID).then((user) => setAuthor(user));\n    setIsMy(comment?.authorID === currentUser?.uid);\n\n    if (newComment) {\n      newCommentRef.current.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"center\",\n      });\n\n      setTimeout(() => {\n        setNewComment(null);\n      }, 1000);\n    }\n  }, [comment, currentUser?.uid, newComment, setNewComment]);\n\n  const deleteComment = async (id) => {\n    setIsDeleting(true);\n\n    setTimeout(() => {\n      const commentDoc = doc(db, \"comments\", id);\n      deleteDoc(commentDoc);\n      setIsDeleting(false);\n    }, 750);\n  };\n  return (\n    <div\n      className={classNames(\n        \"flex gap-3 transition-opacity duration-500 \",\n        comment.id === newComment ? \"opacity-50\" : \"opacity-100\",\n        isDeleting && \"opacity-50\"\n      )}\n      ref={newCommentRef}\n    >\n      <img\n        src={author?.photoURL}\n        alt=\"\"\n        className=\"h-10 w-10 rounded-full bg-zinc-400\"\n      />\n      <div className=\"flex flex-col gap-2 \">\n        <div className=\"flex items-center gap-3 \">\n          <p className=\"leading-4 font-semibold \">{author?.displayName}</p>\n          {isMy && (\n            <button\n              className=\"text-sm border-l border-zinc-700 pl-3 text-zinc-400 hover:text-red-500\"\n              onClick={() => deleteComment(comment.id)}\n            >\n              Delete\n            </button>\n          )}\n        </div>\n        <p className=\" rounded-md bg-zinc-800 border border-zinc-700 max-w-max p-3\">\n          {comment.text}\n        </p>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useContext } from \"react\";\nimport { AuthContext } from \"../../store/AuthContext\";\nimport { addDoc } from \"firebase/firestore\";\nimport { commentsRef } from \"../../firebase\";\nimport { serverTimestamp } from \"firebase/firestore\";\nimport TextArea from \"../form/TextArea\";\n\nfunction CommentForm({ postId, setNewComment }) {\n  const [text, setText] = useState(\"\");\n  const { currentUser } = useContext(AuthContext);\n\n  const addComment = async (e) => {\n    e.preventDefault();\n    const newComment = text.trim();\n    if (newComment.length < 1) {\n      setText(\"\");\n      return;\n    }\n\n    try {\n      const docRef = await addDoc(commentsRef, {\n        postId,\n        text,\n        authorID: currentUser.uid,\n        createdAt: serverTimestamp(),\n        photo: currentUser.photoURL,\n      });\n      setNewComment(docRef.id);\n    } catch (error) {\n      console.error(error);\n    }\n    setText(\"\");\n  };\n\n  return (\n    <div className=\"flex items-center gap-3 \">\n      <a\n        href={`/${currentUser?.uid}`}\n        className=\"h-16 w-16 rounded-full bg-zinc-400 overflow-hidden shrink-0\"\n      >\n        <img\n          src={\n            currentUser?.photoURL ||\n            \"https://media.tenor.com/O7iUTKsWo4gAAAAC/space-cat.gif\"\n          }\n          alt=\"\"\n          className=\"h-16 w-16 rounded-full object-cover\"\n        />\n      </a>\n      <form onSubmit={addComment} className=\"flex w-full  items-center gap-6\">\n        <TextArea\n          value={text}\n          setValue={setText}\n          rows=\"2\"\n          placeholder=\"Add a comment...\"\n          id=\"comment\"\n          name=\"comment\"\n          required={true}\n          label={false}\n        />\n\n        <button\n          type=\"submit\"\n          className=\"flex-none border-1 px-6 py-1 ring-2 ring-sky-600 rounded-sm bg-sky-600\"\n        >\n          Post\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default CommentForm;\n","export default function NoComments() {\n  return (\n    <div className=\"text-lg text-center text-zinc-400\">\n      <p>No comments yet. Be the first to comment</p>\n      \n    </div>\n  );\n}\n","import React, { useEffect, useState, useContext, useRef } from \"react\";\nimport { onSnapshot, query, where, orderBy } from \"firebase/firestore\";\nimport { commentsRef } from \"../../firebase\";\nimport Comment from \"./Comment\";\nimport { AuthContext } from \"../../store/AuthContext\";\nimport CommentForm from \"./CommentForm\";\nimport NoComments from \"./NoComments\";\n\nfunction Comments({ postId }) {\n  const [comments, setComments] = useState([]);\n  const { currentUser } = useContext(AuthContext);\n  const [newComment, setNewComment] = useState(null);\n\n  const addCommentRef = useRef(null);\n\n  useEffect(() => {\n    const { hash } = window.location;\n\n    if (hash === \"#addComment\") {\n      addCommentRef.current.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"center\",\n      });\n    }\n\n    const q = query(\n      commentsRef,\n      where(\"postId\", \"==\", postId),\n      orderBy(\"createdAt\", \"asc\")\n    );\n    const unsubscribe = onSnapshot(q, (snapshot) => {\n      const comments = snapshot.docs.map((doc) => ({\n        id: doc.id,\n        ...doc.data(),\n      }));\n      setComments(comments);\n    });\n\n    return () => unsubscribe();\n  }, [postId]);\n\n  return (\n    <div className=\" space-y-3 \" ref={addCommentRef}>\n      {currentUser && (\n        <div className=\"mx-16 pb-6\">\n          <CommentForm postId={postId} setNewComment={setNewComment} />\n        </div>\n      )}\n\n      <p className=\"font-semibold text-lg mx-16 leading-4 \"> Comments</p>\n      \n      <div className=\"mx-16 space-y-6 border rounded-sm  p-6 border-zinc-800  bg-zinc-800/20\">\n   {!currentUser && <div className=\"py-3 text-center text-sky-500 text-lg border-b border-zinc-800\">Sign in to comment </div>}\n\n        {comments.length > 0 ? (\n          <ul className=\"space-y-6\">\n            {comments.map((comment) => (\n              <li key={comment.id}>\n                <Comment\n                  comment={comment}\n                  newComment={newComment}\n                  setNewComment={setNewComment}\n                />\n              </li>\n            ))}\n          </ul>\n        ) : (\n          <NoComments />\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Comments;\n","import Layout from \"../components/Layout\";\nimport { useEffect, useState, useContext } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { fetchUser } from \"../helpers/fetchUser\";\nimport { AuthContext } from \"../store/AuthContext\";\nimport { UserInline } from \"../components/user/UserInline\";\nimport { Time } from \"../components/atoms/Time\";\nimport Comments from \"../components/comment/Comments\";\nimport fetchPost from \"../helpers/fetchPost\";\nimport EditPostButton from \"../components/post/EditPostButton\";\n\n\nexport default function PostPage() {\n  const [post, setPost] = useState(null);\n  const [author, setAuthor] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isMyPost, setIsMyPost] = useState(false);\n  const { currentUser } = useContext(AuthContext);\n\n  let { postId } = useParams();\n\n  useEffect(() => {\n    setIsLoading(true);\n    fetchPost(postId).then((post) => {\n      setPost(post);\n      fetchUser(post?.authorID).then((user) => setAuthor(user));\n      setIsMyPost(post?.authorID === currentUser?.uid);\n      setIsLoading(false);\n\n    });\n  }, [postId, currentUser?.uid, post?.authorID]);\n  return (\n    !isLoading && (\n      <Layout>\n        <main className=\"pt-12 pb-6 space-y-9\">\n          <div className=\"space-y-9 px-16 \">\n            <div className=\"flex justify-between items-center\">\n             \n              <h1 className=\"text-3xl text-center\">{post?.title}</h1>\n              {isMyPost && <EditPostButton postId={post.id}/>}\n              \n            </div>\n            <p className=\" text-lg  whitespace-break-spaces\">\n              {post?.description}\n            </p>\n          </div>\n\n          <div className=\"flex justify-between items-center border-y py-3 border-zinc-700 px-16\">\n            <UserInline user={author} />\n            <Time time={post?.createdAt} />\n          </div>\n\n          <Comments postId={postId} />\n        </main>\n      </Layout>\n    )\n  );\n}\n"],"names":["Time","_ref","time","_jsx","className","children","toDate","toLocaleDateString","weekday","year","month","day","value","setValue","rows","name","id","required","placeholder","label","_jsxs","htmlFor","onChange","e","target","postId","NavLink","to","concat","UserInline","user","uid","src","photoURL","alt","displayName","fetchPost","_x","_fetchPost","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","docRef","docSnap","post","wrap","_context","prev","next","doc","db","getDoc","sent","exists","data","abrupt","_objectSpread","stop","Commment","comment","newComment","setNewComment","currentUser","useContext","AuthContext","_useState","useState","_useState2","_slicedToArray","author","setAuthor","_useState3","_useState4","isMy","setIsMy","_useState5","_useState6","isDeleting","setIsDeleting","newCommentRef","useRef","useEffect","fetchUser","authorID","then","current","scrollIntoView","behavior","block","setTimeout","deleteComment","_ref2","commentDoc","deleteDoc","classNames","ref","onClick","text","setText","addComment","preventDefault","trim","length","addDoc","commentsRef","createdAt","serverTimestamp","photo","t0","console","error","href","onSubmit","TextArea","type","NoComments","comments","setComments","addCommentRef","window","location","hash","q","query","where","orderBy","unsubscribe","onSnapshot","snapshot","docs","map","CommentForm","Comment","PostPage","setPost","isLoading","setIsLoading","_useState7","_useState8","isMyPost","setIsMyPost","useParams","Layout","title","EditPostButton","description","Comments"],"sourceRoot":""}