"use strict";(self.webpackChunkblog_with_firebase=self.webpackChunkblog_with_firebase||[]).push([[666],{9033:function(e,t,n){n.d(t,{q:function(){return s}});var r=n(184);function s(e){var t=e.time;return(0,r.jsx)("div",{className:"flex gap-3 items-center text-sm text-zinc-400 ",children:(0,r.jsx)("time",{children:null===t||void 0===t?void 0:t.toDate().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})})}},8788:function(e,t,n){var r=n(1087),s=n(184);t.Z=function(e){var t=e.postId;return(0,s.jsx)(r.OL,{to:"/editpost/".concat(t),className:"z-20 hover:text-sky-400 text-zinc-300 text-sm font-semibold  px-2 py-1 shadow-xl  bg-zinc-800 rounded-sm",children:"Edit Post"})}},6630:function(e,t,n){var r=n(1087),s=n(9033),i=n(184);t.Z=function(e){var t=e.post,n=e.children;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r.OL,{to:"/post/".concat(null===t||void 0===t?void 0:t.id),className:"flex flex-col gap-3 hover:text-zinc-400",children:[(0,i.jsx)("h3",{className:"text-xl font-semibold leading-6 ",children:null===t||void 0===t?void 0:t.title}),(0,i.jsx)("p",{className:" line-clamp-3 leading-6 ",children:null===t||void 0===t?void 0:t.description})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center text-zinc-300 w-full",children:[(0,i.jsx)(s.q,{time:null===t||void 0===t?void 0:t.createdAt}),(0,i.jsx)("div",{className:"flex items-center gap-3 pr-3 ",children:n})]})]})}},1363:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(4165),s=n(1413),i=n(5861),c=n(2481),a=n(673);function o(e){return l.apply(this,arguments)}function l(){return(l=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,c.JU)(a.db,"posts",t),e.next=3,(0,c.QT)(n);case 3:if(!(i=e.sent).exists()){e.next=9;break}return o=i.data(),e.abrupt("return",(0,s.Z)((0,s.Z)({},o),{},{id:i.id}));case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1407:function(e,t,n){n.d(t,{w:function(){return d},y:function(){return l}});var r=n(4165),s=n(5861),i=n(673),c=n(2481),a=n(8255),o=n(276);function l(e,t){return u.apply(this,arguments)}function u(){return(u=(0,s.Z)((0,r.Z)().mark((function e(t,n){var s,o,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=i.I8.currentUser,e.next=3,(0,a.ck)(s,t);case 3:return o=(0,c.JU)(i.u8,s.uid),(l=(0,c.pl)(o,t,{merge:!0}))&&n({type:"UPDATE_PROFILE",payload:t}),e.abrupt("return",l);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){return p.apply(this,arguments)}function p(){return(p=(0,s.Z)((0,r.Z)().mark((function e(t,n){var s,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,o.iH)(i.tO,"avatar/"+n.uid+".jpg"),e.next=3,(0,o.KV)(s,t);case 3:return e.next=5,(0,o.Jt)(s);case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},6666:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var r=n(4165),s=n(5861),i=n(9439),c=n(6207),a=n(2791),o=n(1363),l=n(3581),u=n(7689),d=n(6630),p=n(8788),x=n(3433),f=n(2481),h=n(673),m=n(1407),v=n(3402),j=n(184);var b=function(e){var t=e.postId,n=(0,a.useContext)(l.V),i=n.currentUser,c=n.dispatch;function o(){return(o=(0,s.Z)((0,r.Z)().mark((function e(n){var s,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,(0,f.oe)((0,f.JU)(h.T2,t));case 3:s=e.sent,a=i.posts.filter((function(e){return e!==t})),(0,m.y)({posts:(0,x.Z)(a)},c),s&&v.Am.success("Post deleted");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,j.jsx)("button",{onClick:function(e){return o.apply(this,arguments)},className:"z-20 hover:text-red-500 text-zinc-400 text-sm font-bold  ",children:"Delete"})};function Z(e){var t=e.postId,n=(0,a.useState)(null),r=(0,i.Z)(n,2),s=r[0],c=r[1],x=(0,a.useState)(!1),f=(0,i.Z)(x,2),h=f[0],m=f[1],v=(0,a.useContext)(l.V).currentUser,Z=(0,u.UO)().profileId;return(0,a.useEffect)((function(){v&&Z===v.uid&&m(!0),(0,o.Z)(t).then((function(e){c(e)}))}),[v,t,Z]),s&&(0,j.jsx)("div",{className:"space-y-3 border-b border-zinc-700 px-9 py-6 shadow-sm ",children:(0,j.jsx)(d.Z,{post:s,children:h&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(p.Z,{postId:t})," ",(0,j.jsx)(b,{postId:t})]})})})}var y=n(9271),N=n(7212);function w(){var e=(0,a.useState)(null),t=(0,i.Z)(e,2),n=t[0],o=t[1],l=(0,a.useState)(!0),d=(0,i.Z)(l,2),p=d[0],x=d[1],f=(0,u.UO)().profileId;return(0,a.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,y.B)(f);case 2:t=e.sent,o(t),x(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[f]),p?(0,j.jsx)(N.Z,{}):(0,j.jsx)(c.Z,{children:(0,j.jsxs)("main",{className:"mt-20",children:[(0,j.jsxs)("div",{className:" flex items-center space-x-3  border-b border-zinc-700 px-6 py-9 shadow-sm focus-within:ring-2 ",children:[(0,j.jsx)("div",{className:"flex-shrink-0",children:(0,j.jsx)("img",{className:"h-24 w-24 rounded-full object-cover",src:(null===n||void 0===n?void 0:n.photoURL)||"https://media.tenor.com/O7iUTKsWo4gAAAAC/space-cat.gif",alt:""})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("p",{className:"text-2xl font-bold ",children:null===n||void 0===n?void 0:n.displayName}),(0,j.jsxs)("p",{className:"truncate text-sm text-zinc-400",children:[" ",null===n||void 0===n?void 0:n.email]}),(0,j.jsxs)("p",{className:"truncate text- font-semibold ",children:["Published posts:",(0,j.jsxs)("span",{className:"ml-2",children:[" ",null===n||void 0===n?void 0:n.posts.length]})," "]})]})]}),(0,j.jsxs)("div",{className:"mt-9",children:[(0,j.jsxs)("h1",{className:"text-xl font-bold text-center",children:["Posts by",(0,j.jsx)("span",{className:"text-xl font-medium text-sky-600 ml-2",children:null===n||void 0===n?void 0:n.displayName})]}),(null===n||void 0===n?void 0:n.posts.length)>0?(0,j.jsx)("ul",{className:"mt-5",children:null===n||void 0===n?void 0:n.posts.map((function(e){return(0,j.jsx)("li",{children:(0,j.jsx)(Z,{postId:e})},e)}))}):(0,j.jsxs)("div",{className:"mt-6 text-center text-xl ",children:["There are no posts yet"," "]})]})]})})}}}]);
//# sourceMappingURL=666.c12ed51b.chunk.js.map