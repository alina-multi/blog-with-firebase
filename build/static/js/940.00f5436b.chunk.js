"use strict";(self.webpackChunkblog_with_firebase=self.webpackChunkblog_with_firebase||[]).push([[940],{9913:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(2791),i=n(3581),s=n(1087),a=n(2326),l=n(184);function c(){var e=(0,r.useContext)(i.V).currentUser;return(0,l.jsxs)("div",{className:"flex items-center gap-6",children:[!e&&(0,l.jsxs)(l.Fragment,{children:["  ",(0,l.jsx)(s.OL,{to:"/login",className:" font-semibold leading-6 text-white",children:"Login"}),(0,l.jsxs)(s.OL,{to:"/signup",className:"font-semibold leading-6 text-white",children:["Sign Up",(0,l.jsx)("span",{"aria-hidden":"true",children:"\u2192"})]})]}),e&&(0,l.jsxs)("div",{className:"flex items-center gap-6",children:[(0,l.jsx)(s.OL,{to:"/addpost",className:"flex items-center gap-1 border-sky-400 border bg-sky-500 text-white px-4 leading-4  rounded-full py-1.5  font-medium",children:(0,l.jsx)("span",{children:"Add Post"})}),(0,l.jsx)("div",{children:(0,l.jsx)(a.Z,{})})]})]})}},7471:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(184);function i(e){var t=e.children;return(0,r.jsx)("div",{className:"flex items-center h-20 px-6 bg-zinc-300 fixed w-3/4 top-0 right-0  border-b  border-zinc-800",children:t})}},9940:function(e,t,n){n.r(t),n.d(t,{default:function(){return U}});var r=n(1413),i=n(9439),s=n(2791),a=n(4165),l=n(5861),c=n(2481),o=n(673),d=n(3581),u=n(6786),x=n(184);var f=function(e){var t=e.postId,n=(0,s.useState)(""),r=(0,i.Z)(n,2),f=r[0],m=r[1],h=(0,s.useContext)(d.V).currentUser,p=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,(0,c.ET)(o.HF,{postId:t,text:f,authorID:h.uid,createdAt:(0,c.Bt)(),photo:h.photoURL});case 4:m(""),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return(0,x.jsxs)("div",{className:"flex items-center gap-x-4",children:[(0,x.jsx)("a",{href:"/",className:"flex items-center gap-x-4",children:(0,x.jsx)("img",{src:h.photoURL,alt:"",className:"h-10 w-10 rounded-full bg-zinc-400"})}),(0,x.jsxs)("form",{onSubmit:p,className:"flex w-full justify-between items-baseline gap-6",children:[(0,x.jsx)(u.Z,{type:"text",id:"comment",name:"comment",value:f,setValue:m,placeholder:"Add a comment...",required:!0}),(0,x.jsx)("button",{type:"submit",className:"border-1 px-6 py-1 ring-2 ring-sky-600 rounded-md bg-sky-600",children:"Post"})]})]})},m=n(3060);function h(e){var t=e.comment,n=(0,s.useContext)(d.V).currentUser,r=(0,s.useState)(null),u=(0,i.Z)(r,2),f=(u[0],u[1]),h=(0,s.useState)(!1),p=(0,i.Z)(h,2),v=(p[0],p[1]);(0,s.useEffect)((function(){(0,m.BT)(t.authorID).then((function(e){return f(e)})),v((null===t||void 0===t?void 0:t.authorID)===(null===n||void 0===n?void 0:n.uid))}),[t,null===n||void 0===n?void 0:n.uid]);var j=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,c.JU)(o.db,"comments",t),e.next=3,(0,c.oe)(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)("img",{src:t.photo,alt:"",className:"h-10 w-10 rounded-full bg-zinc-400"}),(0,x.jsxs)("p",{children:[t.username,": ",t.text]}),(0,x.jsx)("button",{onClick:function(){return j(t.id)},children:"Delete Comment"})]})}var p=function(e){var t=e.postId,n=(0,s.useState)([]),a=(0,i.Z)(n,2),l=a[0],d=a[1];return(0,s.useEffect)((function(){var e=(0,c.IO)(o.HF,(0,c.ar)("postId","==",t)),n=(0,c.cf)(e,(function(e){var t=e.docs.map((function(e){return(0,r.Z)({id:e.id},e.data())}));d(t)}));return function(){return n()}}),[t]),(0,x.jsx)(x.Fragment,{children:l.map((function(e){return(0,x.jsx)("ul",{children:(0,x.jsx)(h,{comment:e})},e.id)}))})},v=n(4925),j=["title","titleId"];var b=s.forwardRef((function(e,t){var n=e.title,r=e.titleId,i=(0,v.Z)(e,j);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 01.865-.501 48.172 48.172 0 003.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z"}))})),g=["title","titleId"];var w=s.forwardRef((function(e,t){var n=e.title,r=e.titleId,i=(0,v.Z)(e,g);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3l1.664 1.664M21 21l-1.5-1.5m-5.485-1.242L12 17.25 4.5 21V8.742m.164-4.078a2.15 2.15 0 011.743-1.342 48.507 48.507 0 0111.186 0c1.1.128 1.907 1.077 1.907 2.185V19.5M4.664 4.664L19.5 19.5"}))})),N=["title","titleId"];var k=s.forwardRef((function(e,t){var n=e.title,r=e.titleId,i=(0,v.Z)(e,N);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":r},i),n?s.createElement("title",{id:r},n):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"}))}));var Z=function(e){var t=e.post,n=e.activePost,r=e.setActivePost,u=(0,s.useContext)(d.V).currentUser,h=(0,s.useState)(!1),v=(0,i.Z)(h,2),j=v[0],g=v[1],N=(0,s.useState)(null),Z=(0,i.Z)(N,2),y=Z[0],z=Z[1],I=(0,s.useState)(!1),L=(0,i.Z)(I,2),C=L[0],E=L[1],S=n===t.id;(0,s.useEffect)((function(){(0,m.BT)(t.authorID).then((function(e){return z(e)})),E((null===t||void 0===t?void 0:t.authorID)===(null===u||void 0===u?void 0:u.uid))}),[t,null===u||void 0===u?void 0:u.uid]);var U=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.oe)((0,c.JU)(o.T2,t));case 2:e.sent&&alert("Post deleted");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,x.jsxs)("div",{className:"w-full space-y-6 py-6 px-9  hover:bg-zinc-300",children:[(0,x.jsxs)("article",{className:"w-full flex flex-col gap-3 ",children:[(0,x.jsxs)("div",{className:"flex justify-between  ",children:[(0,x.jsxs)("a",{href:"/",className:"flex items-center gap-x-4",children:[(0,x.jsx)("img",{src:null===y||void 0===y?void 0:y.photoURL,alt:"",className:"h-10 w-10 rounded-full bg-zinc-400"}),(0,x.jsx)("p",{className:"font-semibold text-sm leading-6",children:null===y||void 0===y?void 0:y.displayName})]}),(0,x.jsxs)("div",{class:"flex gap-3 items-center text-xs text-zinc-700",children:[(0,x.jsx)("time",{children:t.createdAt.toDate().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),C&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("button",{onClick:function(){return U(t.id)},className:" hover:bg-zinc-800 text-zinc-600 text-xs font-bold py-1 px-3 rounded-full border border-zinc-400 leading-3",children:"Edit"}),(0,x.jsx)("button",{onClick:function(){return U(t.id)},className:" hover:bg-zinc-800 text-zinc-400 text-xs font-bold py-1 px-2 rounded-full border border-zinc-300 leading-3",children:"Delete"})]})]})]}),(0,x.jsxs)("div",{className:"flex flex-col gap-3  ",children:[(0,x.jsx)("h3",{className:"text-xl font-semibold leading-6 ",children:t.title}),(0,x.jsx)("p",{className:" line-clamp-3 leading-6 ",children:t.description})]}),(0,x.jsx)("div",{className:"flex justify-end items-center ",children:(0,x.jsxs)("div",{className:"flex items-center gap-3",children:[(0,x.jsx)("button",{onClick:function(){u?r(t.id):alert("You must be logged in to comment")},children:(0,x.jsx)(b,{className:"h-6 w-6 text-zinc-700","aria-hidden":"true"})}),(0,x.jsx)("button",{onClick:function(){u?g((function(e){return!e})):alert("You must be logged in to bookmark")},children:j?(0,x.jsx)(w,{className:"h-6 w-6 text-zinc-700","aria-hidden":"true"}):(0,x.jsx)(k,{className:"h-6 w-6 text-zinc-700","aria-hidden":"true"})})]})})]}),(0,x.jsx)(p,{postId:t.id}),S&&(0,x.jsx)("div",{className:"",children:(0,x.jsx)(f,{postId:t.id})})]})};var y=function(e){var t=e.posts,n=(0,s.useState)(null),r=(0,i.Z)(n,2),a=r[0],l=r[1];return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("ul",{children:[t.map((function(e){return(0,x.jsx)("li",{className:"flex flex-col items-start justify-between bg-zinc-200  border-b  border-zinc-800",children:(0,x.jsx)(Z,{post:e,activePost:a,setActivePost:l})},e.id)})),"  "]})})},z=(n(2326),n(7365)),I=n(6207),L=n(7471),C=n(9913);function E(e){var t=e.children;return(0,x.jsx)("main",{className:"mt-20 bg-zinc-200 text-black",children:t})}var S=[{id:1,name:"hooks"},{id:2,name:"react"},{id:3,name:"firebase"},{id:4,name:"javascript"}];function U(){var e=(0,s.useState)([]),t=(0,i.Z)(e,2),n=t[0],a=t[1],l=(0,s.useState)(!0),u=(0,i.Z)(l,2),f=u[0],m=u[1];(0,s.useContext)(d.V).currentUser;return(0,s.useEffect)((function(){var e=(0,c.IO)(o.T2,(0,c.Xo)("createdAt","desc")),t=(0,c.cf)(e,(function(e){var t=e.docs.map((function(e){return(0,r.Z)({id:e.id},e.data())}));a(t),m(!1)}));return function(){return t()}}),[]),f?(0,x.jsx)(z.Z,{}):(0,x.jsxs)(I.Z,{children:[(0,x.jsx)(L.Z,{children:(0,x.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,x.jsx)("div",{className:" flex items-center  gap-6 ",children:S.map((function(e){return(0,x.jsx)("button",{className:"border-zinc-900 border bg-zinc-200 text-zinc-900 px-4 leading-4  rounded-full py-1.5  font-medium",children:e.name},e.id)}))}),(0,x.jsx)(C.Z,{})]})}),(0,x.jsx)(E,{children:(0,x.jsx)(y,{posts:n})})]})}}}]);
//# sourceMappingURL=940.00f5436b.chunk.js.map