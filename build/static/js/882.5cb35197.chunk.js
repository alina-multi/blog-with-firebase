"use strict";(self.webpackChunkblog_with_firebase=self.webpackChunkblog_with_firebase||[]).push([[882],{9882:function(e,t,s){s.r(t),s.d(t,{default:function(){return N}});var n=s(4165),a=s(5861),r=s(9439),i=s(2791),l=s(2801),o=s(9011),c=s(3299),u=s.n(c),m=s(184);function d(e){var t=e.src,s=e.modalOpen,c=e.setModalOpen,d=e.setPreview,p=e.setPhotoURL,f=(0,i.useState)(10),h=(0,r.Z)(f,2),x=h[0],v=h[1],b=(0,i.useRef)(null),g=(0,i.useRef)(null),y=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,s,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=3;break}return w(),e.abrupt("return");case 3:return t=g.current.getImage().toDataURL(),e.next=6,fetch(t);case 6:return s=e.sent,e.next=9,s.blob();case 9:a=e.sent,d(URL.createObjectURL(a)),p(a),c(!1),v(10);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){c(!1),v(10)};return(0,m.jsx)(l.u.Root,{show:s,as:i.Fragment,children:(0,m.jsxs)(o.V,{as:"div",className:"relative z-10",initialFocus:b,onClose:c,children:[(0,m.jsx)(l.u.Child,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,m.jsx)("div",{className:"fixed inset-0 bg-zinc-500 bg-opacity-75 transition-opacity"})}),(0,m.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,m.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,m.jsx)(l.u.Child,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,m.jsxs)(o.V.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:[(0,m.jsx)("div",{children:(0,m.jsxs)("div",{className:"mt-3 text-center sm:mt-5",children:[(0,m.jsx)(u(),{ref:g,image:t,style:{width:"100%",height:"100%"},border:50,borderRadius:150,color:[0,0,0,.72],scale:x/10,rotate:0}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{htmlFor:"zoom",className:"mb-2 inline-block text-neutral-700 dark:text-neutral-200",children:"zoom"}),(0,m.jsx)("input",{min:10,max:50,value:x,onChange:function(e){return v(e.target.value)},type:"range",className:"transparent accent-sky-500 h-1.5 w-full cursor-pointer appearance-none rounded-lg border-transparent bg-neutral-200",id:"zoom"}),(0,m.jsxs)("span",{className:"bg-red-500",children:[" ",x]})]})]})}),(0,m.jsxs)("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3",children:[(0,m.jsx)("button",{type:"button",className:"inline-flex w-full justify-center rounded-md bg-sky-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-sky-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-600 sm:col-start-2",onClick:function(){return y()},children:"Save"}),(0,m.jsx)("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-zinc-900 shadow-sm ring-1 ring-inset ring-zinc-300 hover:bg-zinc-50 sm:col-start-1 sm:mt-0",onClick:w,children:"Cancel"})]})]})})})})]})})}function p(e){var t=e.preview,s=e.setPreview,n=e.setPhotoURL,a=(0,i.useState)(null),l=(0,r.Z)(a,2),o=l[0],c=l[1],u=(0,i.useState)(!1),p=(0,r.Z)(u,2),f=p[0],h=p[1],x=(0,i.useRef)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d,{modalOpen:f,setModalOpen:h,src:o,setPreview:s,setPhotoURL:n}),(0,m.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,m.jsx)("div",{className:"border  rounded-full ",children:(0,m.jsx)("img",{src:t||" https://www.signivis.com/img/custom/avatars/member-avatar-01.png",alt:"",className:"w-32 rounded-full object-cover"})}),(0,m.jsx)("button",{type:"button",onClick:function(e){x.current.click()},className:"rounded-lg bg-sky-500 text-white px-4 py-2",children:"Select Image"}),(0,m.jsx)("input",{type:"file",accept:"image/*",ref:x,onChange:function(e){var t=e.target.files[0];t&&(c(URL.createObjectURL(t)),h(!0))},className:"hidden"})]})]})}var f=s(673),h=s(2481),x=s(8255),v=s(276);function b(e,t){return g.apply(this,arguments)}function g(){return(g=(0,a.Z)((0,n.Z)().mark((function e(t,s){var a,r,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f.I8.currentUser,e.next=3,(0,x.ck)(a,t);case 3:r=(0,h.JU)(f.u8,a.uid),(i=(0,h.pl)(r,t,{merge:!0}))&&s({type:"UPDATE_PROFILE",payload:t}),i&&alert("Profile updated");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){return w.apply(this,arguments)}function w(){return(w=(0,a.Z)((0,n.Z)().mark((function e(t,s){var a,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,v.iH)(f.tO,"avatar/"+s.uid+".jpg"),(0,v.KV)(a,t),e.next=4,(0,v.Jt)(a);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=s(3581);function N(){var e=(0,i.useContext)(j.V),t=e.currentUser,s=e.dispatch,l=(0,i.useState)(t.photoURL),o=(0,r.Z)(l,2),c=o[0],u=o[1],d=(0,i.useState)(null),f=(0,r.Z)(d,2),h=f[0],x=f[1],v=(0,i.useState)(t.displayName),g=(0,r.Z)(v,2),w=g[0],N=g[1],k=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(a){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),r=t.photoURL,!h){e.next=6;break}return e.next=5,y(h,t);case 5:r=e.sent;case 6:b({displayName:w,photoURL:r},s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("form",{className:"w-1/2 mx-auto mt-12",onSubmit:k,children:[(0,m.jsxs)("div",{className:"space-y-3",children:[(0,m.jsx)("h2",{className:"text-base font-semibold leading-7 text-white",children:"EditProfile"}),(0,m.jsx)("p",{className:"mt-1 text-sm leading-6 text-zinc-400",children:"This information will be displayed publicly so be careful what you share."}),(0,m.jsx)(p,{preview:c,setPreview:u,setPhotoURL:x}),(0,m.jsxs)("div",{className:"sm:col-span-4",children:[(0,m.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium leading-6 text-white",children:"Username"}),(0,m.jsx)("div",{className:"mt-2",children:(0,m.jsxs)("div",{className:"flex rounded-md bg-white/5 ring-1 ring-inset ring-white/10 focus-within:ring-2 focus-within:ring-inset focus-within:ring-sky-500",children:[(0,m.jsx)("span",{className:"flex select-none items-center pl-3  sm:text-sm",children:"@"}),(0,m.jsx)("input",{onChange:function(e){return N(e.target.value)},value:w,type:"text",name:"username",id:"username",autoComplete:"username",className:"flex-1 border-0 bg-transparent py-1.5 pl-1 text-white focus:ring-0 sm:text-sm sm:leading-6"})]})})]})]}),(0,m.jsxs)("div",{className:"mt-6 flex items-center justify-end gap-x-6",children:[(0,m.jsx)("button",{type:"button",className:"text-sm font-semibold leading-6 text-white",children:"Cancel"}),(0,m.jsx)("button",{type:"submit",className:"rounded-md bg-sky-500 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-sky-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-500",children:"Save"})]})]}),(0,m.jsx)("div",{className:"profile",children:(0,m.jsxs)("p",{children:["Username: ",null===t||void 0===t?void 0:t.displayName]})})]})}}}]);
//# sourceMappingURL=882.5cb35197.chunk.js.map